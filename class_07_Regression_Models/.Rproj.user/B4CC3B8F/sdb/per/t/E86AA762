{
    "contents" : "# q1\n# Consider the space shuttle data ?shuttle in the MASS library. \n# Consider modeling the use of the autolander as the outcome (variable name use). \n# Fit a logistic regression model with autolander (variable auto) \n# use (labeled as \"auto\" 1) versus not (0) as predicted by wind sign (variable wind). \n# Give the estimated odds ratio for autolander use comparing head winds, \n# labeled as \"head\" in the variable headwind (numerator) to tail winds (denominator).\nlibrary(MASS)\ndata(shuttle)\nshuttle=shuttle\nsummary(shuttle)\nshuttle$wind=as.factor(shuttle$wind)\nshuttle$use <- as.numeric(shuttle$use == \"auto\")\ntable(shuttle$wind,shuttle$use)\nq1_fit=glm(use ~ wind+0, data = shuttle,family=\"binomial\")\nexp_coef=exp(summary(q1_fit)$coef)\nexp_coef[1]/exp_coef[2]\n\n\n# q2\n# Consider the previous problem. \n# Give the estimated odds ratio for autolander use comparing head winds (numerator) \n# to tail winds (denominator) adjusting for wind strength from the variable magn.\nq2_fit=glm(use ~ wind+magn+0, data = shuttle,family=\"binomial\")\nexp_coef=exp(summary(q2_fit)$coef)\nexp_coef[1]/exp_coef[2]\n\n\n# q4\n# Consider the insect spray data InsectSprays. \n# Fit a Poisson model using spray as a factor level. \n# Report the estimated relative rate comapring spray A (numerator) to spray B (denominator).\n\ndata(InsectSprays)\nInsectSprays=InsectSprays\nsummary(InsectSprays)\nq4_fit=glm(count~spray+0,family=\"poisson\",data=InsectSprays)\nexp_coef=exp(coef(q4_fit))\nexp_coef[1]/exp_coef[2]\n\n\n\n\n\n\n# q6\n# Consider the data\n\nx <- -5:5\ny <- c(5.12, 3.93, 2.67, 1.87, 0.52, 0.08, 0.93, 2.05, 2.54, 3.87, 4.97)\n# Using a knot point at 0, fit a linear model that looks like a hockey stick \n# with two lines meeting at x=0. Include an intercept term, x and the knot point term. \n# What is the estimated slope of the line after 0?\nknots <- 0\nspline <- sapply(knots, function(knot) (x > knot) * (x - knot))\nxMatrix <- cbind(1, x, spline)\nq6_fit <- lm(y ~ xMatrix +0)\npred <- predict(q6_fit)\nplot(x, y)\nlines(x, pred, col=2)\n\n coef(q6_fit)[1]+coef(q6_fit)[2]\ncoef(q6_fit)[2]+coef(q6_fit)[3]\n\n\n",
    "created" : 1438707476656.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1005255504",
    "id" : "E86AA762",
    "lastKnownWriteTime" : 1438720606,
    "path" : "~/Coursera_Data_Science_JH/class_07_Regression_Models/quiz4.R",
    "project_path" : "quiz4.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}