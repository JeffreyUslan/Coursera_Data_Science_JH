{
    "contents" : "# q1\n# Consider the mtcars data set. \n# Fit a model with mpg as the outcome that includes number of cylinders as a factor variable \n# and weight as confounder. \n# Give the adjusted estimate for the expected change in mpg comparing 8 cylinders to 4.\n\ndata(mtcars)\nmtcars=mtcars\nmtcars$cyl=as.factor(mtcars$cyl)\nlevels(mtcars$cyl)\nq1_fit=lm(mpg~cyl+wt,data=mtcars)\n\n\n# q2\n\n# Consider the mtcars data set. \n# Fit a model with mpg as the outcome that includes number of cylinders as a factor variable \n# and weight as a possible confounding variable. \n# Compare the effect of 8 versus 4 cylinders on mpg for the adjusted and unadjusted by weight models. \n# Here, adjusted means including the weight variable as a term in the regression model \n# and unadjusted means the model without weight included. \n# What can be said about the effect comparing 8 and 4 cylinders after looking at models \n# with and without weight included?.\nq2_fit=lm(mpg~cyl,data=mtcars)\n\n\nq1_fit\nq2_fit\n# Holding weight constant, cylinder appears to have more of an impact on mpg than if weight is disregarded.\n\n\n# q3\n# Consider the mtcars data set. \n# Fit a model with mpg as the outcome that considers number of cylinders as a factor variable \n# and weight as confounder. \n# Now fit a second model with mpg as the outcome model that considers \n# the interaction between number of cylinders (as a factor variable) and weight. \n# Give the P-value for the likelihood ratio test comparing the two models and \n# suggest a model using 0.05 as a type I error rate significance benchmark.\n\nq3_fit=lm(mpg~cyl*wt,data=mtcars)\nsummary(q3_fit)\nresult <- anova(q1_fit, q3_fit, test=\"Chi\")\nresult\n\n# The P-value is larger than 0.05. So, according to our criterion, we would fail to reject, \n# which suggests that the interaction terms may not be necessary.\n\n\n# q4\n# Consider the mtcars data set. Fit a model with mpg as the outcome that includes number of cylinders \n# as a factor variable and weight inlcuded in the model as\n\nlm(mpg ~ I(wt * 0.5) + cyl, data = mtcars)\n# How is the wt coefficient interpretted?\n\n# The estimated expected change in MPG per half ton increase in weight for for a specific number of cylinders (4, 6, 8).\n\n\n# q5\n# Consider the following data set\n\nx <- c(0.586, 0.166, -0.042, -0.614, 11.72)\ny <- c(0.549, -0.026, -0.127, -0.751, 1.344)\n# Give the hat diagonal for the most influential point\nplot(x,y)\nmax(hatvalues(lm(y~x)))\n\n\n# q6\n# Consider the following data set\n\nx <- c(0.586, 0.166, -0.042, -0.614, 11.72)\ny <- c(0.549, -0.026, -0.127, -0.751, 1.344)\n# Give the slope dfbeta for the point with the highest hat value.\nhighest_hat=as.integer(which(hatvalues(lm(y~x))==max(hatvalues(lm(y~x)))))\ndfbetas(lm(y~x))[highest_hat,]\n\n# q7\n\n# Consider a regression relationship between Y and X with and without adjustment \n# for a third variable Z. \n# Which of the following is true about comparing the regression coefficient \n# between Y and X with and without adjustment for Z.\n\n# It is possible for the coefficient to reverse sign after adjustment. For example, it can be strongly significant and positive before adjustment and strongly significant and negative after adjustment.\n\n\n",
    "created" : 1438707450366.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2973827858",
    "id" : "A6CCB599",
    "lastKnownWriteTime" : 1439830726,
    "path" : "~/Coursera_Data_Science_JH/class_07_Regression_Models/quiz3.R",
    "project_path" : "quiz3.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 0,
    "source_on_save" : false,
    "type" : "r_source"
}